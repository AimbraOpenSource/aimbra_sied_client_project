<div *ngIf="atividade" >
  <header>
    <h4 class="title" style="padding: 0; margin: 0;">Sala de aula</h4>
    <h1 class="title"  style="padding: 0; margin: 0;">{{ atividade.aula.titulo }}</h1>
    <p class="mt-2 text-muted">Esta aula é lecionada pelo professor <strong>{{ atividade.aula.turma.professor.nome }}</strong></p>
  </header>

  <section>
    <div class="row">
      <div class="col-8">
        <app-material-card>
          <div body>
            <section>
              <app-youtube-video [videoId]="atividade.aula.urlVideoGravado" [width]="'100%'"></app-youtube-video>
            </section>
            <section class="mt-5">
              <h2 style="padding: 0; margin-bottom: 1rem;">O que o aluno vai aprender?</h2>
              <p>{{ atividade.aula.descricao }}</p>
            </section>
            <section class="mt-5">
              <h2>Observações importantes</h2>
              <p>{{ atividade.aula.observacao }}</p>
            </section>
            <section class="mt-5">
              <h2>Exercícios propostos</h2>
              <p>{{ atividade.descricao }}</p>
            </section>
          </div>
        </app-material-card>
        <section class="mt-3">
          <app-material-card title="Você precisa de ajuda?">
            <div body>
              <button mat-flat-button [color]="showComments ? 'primary' : 'accent'" class="w-100 p-3 mb-4" (click)="showComments = !showComments">{{ showComments ? 'Esconder Comentários' : 'Exibir comentários'}}</button>
              <app-disqus-comment *ngIf="showComments" ></app-disqus-comment>
            </div>
          </app-material-card>
        </section>
      </div>
      <div class="col-4">
        <section>
          <button mat-stroked-button color="primary" [disabled]="true" class="w-100 mb-3 pt-3 pb-3 d-flex flex-row justify-content-between">
              <mat-icon class="mat-icon-clicked">play_arrow</mat-icon> Disponível em 5 minutos
          </button>
        </section>
        <section class="mb-3">
          <div class="input-group mb-3">
            <div class="custom-file">
              <input type="file" class="custom-file-input" id="inputResposta" aria-describedby="inputResposta" (change)="onFileSelected($event)">
              <label class="custom-file-label" for="inputResposta">Escolher arquivo .rar ou .zip</label>
            </div>
          </div>
          <div class="alert alert-info" *ngIf="resposta">
            Data do seu envio: {{ resposta.atualizadoEm | date : 'dd/MM/yyyy'}}
          </div>
          <div *ngIf="recursosResposta.length > 0">
            <h4>Sua Resposta</h4>
            <div class="list-group">
              <a href="javascript: void;" class="list-group-item list-group-item-action d-flex flex-row justify-content-between" *ngFor="let r of recursosResposta">
                <div class="mt-1">
                  {{ r.nomeReal }}
                </div>
                <div>
                  <mat-icon (click)="deleteFileByIdRecurso()">delete</mat-icon>
                </div>
              </a>

            </div>
          </div>
        </section>
        <section class="mb-3">
          <mat-card>
            <mat-card-content *ngIf="resposta" >
              <h4>Enviar resposta em texto</h4>
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Digite sua resposta em texto</mat-label>
                <textarea matInput [(ngModel)]="resposta.descricao" rows="10"></textarea>
              </mat-form-field>
              <button mat-flat-button color="primary" (click)="sendText()">Enviar em texto</button>
            </mat-card-content>
          </mat-card>
        </section>
        <section>

          <mat-card class="example-card pb-2 w-100">
            <mat-card-content>
              <h4>Recursos do professor</h4>
              <div class="mb-4">
                <app-resource-class-widget [aulaId]="atividade?.aula?.id" (hasRecurso)="hasRecurso = $event"></app-resource-class-widget>
              </div>
            </mat-card-content>
          </mat-card>

        </section>
      </div>
    </div>
  </section>
</div>
